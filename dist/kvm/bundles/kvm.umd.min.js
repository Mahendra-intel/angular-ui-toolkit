!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/operators"),require("@angular/common/http"),require("@open-amt-cloud-toolkit/ui-toolkit/core"),require("rxjs"),require("@angular/material/dialog"),require("@angular/material/button"),require("@angular/material/snack-bar"),require("@angular/material/toolbar"),require("@angular/material/form-field"),require("@angular/material/select"),require("@angular/forms"),require("@angular/common"),require("@angular/material/core"),require("@angular/platform-browser"),require("@angular/platform-browser/animations"),require("@angular/flex-layout"),require("@angular/material/grid-list"),require("@angular/material/expansion"),require("@angular/material/stepper"),require("@angular/material/chips"),require("@angular/material/table"),require("@angular/material/card"),require("@angular/material/list"),require("@angular/material/paginator"),require("@angular/material/sort"),require("@angular/material/checkbox"),require("@angular/material/tooltip"),require("@angular/material/autocomplete"),require("@angular/material/input"),require("@angular/material/radio"),require("@angular/material/slide-toggle"),require("@angular/material/progress-bar"),require("@angular/material/datepicker"),require("@angular/material/progress-spinner"),require("@angular/material/icon"),require("@angular/material/sidenav"),require("@angular/material/menu"),require("@angular/material/tabs"),require("@angular/material/tree"),require("@angular/material/button-toggle"),require("@angular/cdk/table")):"function"==typeof define&&define.amd?define("kvm",["exports","@angular/core","rxjs/operators","@angular/common/http","@open-amt-cloud-toolkit/ui-toolkit/core","rxjs","@angular/material/dialog","@angular/material/button","@angular/material/snack-bar","@angular/material/toolbar","@angular/material/form-field","@angular/material/select","@angular/forms","@angular/common","@angular/material/core","@angular/platform-browser","@angular/platform-browser/animations","@angular/flex-layout","@angular/material/grid-list","@angular/material/expansion","@angular/material/stepper","@angular/material/chips","@angular/material/table","@angular/material/card","@angular/material/list","@angular/material/paginator","@angular/material/sort","@angular/material/checkbox","@angular/material/tooltip","@angular/material/autocomplete","@angular/material/input","@angular/material/radio","@angular/material/slide-toggle","@angular/material/progress-bar","@angular/material/datepicker","@angular/material/progress-spinner","@angular/material/icon","@angular/material/sidenav","@angular/material/menu","@angular/material/tabs","@angular/material/tree","@angular/material/button-toggle","@angular/cdk/table"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).kvm={},e.ng.core,e.rxjs.operators,e.ng.common.http,e["@open-amt-cloud-toolkit"]["ui-toolkit"].core,e.rxjs,e.ng.material.dialog,e.ng.material.button,e.ng.material.snackBar,e.ng.material.toolbar,e.ng.material.formField,e.ng.material.select,e.ng.forms,e.ng.common,e.ng.material.core,e.ng.platformBrowser,e.ng.platformBrowser.animations,e.ng.flexLayout,e.ng.material.gridList,e.ng.material.expansion,e.ng.material.stepper,e.ng.material.chips,e.ng.material.table,e.ng.material.card,e.ng.material.list,e.ng.material.paginator,e.ng.material.sort,e.ng.material.checkbox,e.ng.material.tooltip,e.ng.material.autocomplete,e.ng.material.input,e.ng.material.radio,e.ng.material.slideToggle,e.ng.material.progressBar,e.ng.material.datepicker,e.ng.material.progressSpinner,e.ng.material.icon,e.ng.material.sidenav,e.ng.material.menu,e.ng.material.tabs,e.ng.material.tree,e.ng.material.buttonToggle,e.ng.cdk.table)}(this,(function(e,t,o,a,r,n,i,l,u,s,d,M,c,p,m,g,v,h,f,S,b,y,C,w,T,k,I,D,x,E,F,L,A,P,B,q,j,R,N,O,H,K,_){"use strict";var U={production:!1,mpsServer:"https://52.172.14.137/mps",rpsServer:"https://52.172.14.137/rps"},V=function(){function e(e){this.http=e,this.connectKVMSocket=new t.EventEmitter(!1),this.stopwebSocket=new t.EventEmitter(!1)}return e.prototype.setAmtFeatures=function(e){return this.http.post(U.mpsServer+"/api/v1/amt/features/"+e,{userConsent:"none",enableKVM:!0,enableSOL:!0,enableIDER:!0}).pipe(o.catchError((function(e){throw e})))},e.prototype.getPowerState=function(e){return this.http.get(U.mpsServer+"/api/v1/amt/power/state/"+e).pipe(o.catchError((function(e){throw e})))},e.prototype.sendPowerAction=function(e,t,a){void 0===a&&(a=!1);var r={method:"PowerAction",action:t,useSOL:a};return this.http.post(U.mpsServer+"/api/v1/amt/power/action/"+e,r).pipe(o.catchError((function(e){throw e})))},e}();V.ɵfac=function(e){return new(e||V)(t.ɵɵinject(a.HttpClient))},V.ɵprov=t.ɵɵdefineInjectable({token:V,factory:V.ɵfac,providedIn:"platform"}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(V,[{type:t.Injectable,args:[{providedIn:"platform"}]}],(function(){return[{type:a.HttpClient}]}),null);var G=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();G.ɵfac=function(e){return new(e||G)},G.ɵcmp=t.ɵɵdefineComponent({type:G,selectors:[["amt-power-up-alert"]],decls:9,vars:1,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,o){1&e&&(t.ɵɵelementStart(0,"h2",0),t.ɵɵtext(1,"Your device is not powered on"),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"mat-dialog-content",1),t.ɵɵtext(3," Do you want to send a power up command to the device?\n"),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"mat-dialog-actions",2),t.ɵɵelementStart(5,"button",3),t.ɵɵtext(6,"No"),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"button",4),t.ɵɵtext(8,"Yes"),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(7),t.ɵɵproperty("mat-dialog-close",!0))},directives:[i.MatDialogTitle,i.MatDialogContent,i.MatDialogActions,l.MatButton,i.MatDialogClose],styles:[""]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(G,[{type:t.Component,args:[{selector:"amt-power-up-alert",templateUrl:"./power-up-alert.component.html",styleUrls:["./power-up-alert.component.scss"]}]}],(function(){return[]}),null);var z={duration:3e3,panelClass:["error","mat-elevation-z12"]},J=function(){function e(e){this.http=e,this.loggedInSubject=new t.EventEmitter(!1),this.isLoggedIn=!1,this.url=U.mpsServer+"/api/v1/authorize",null!=localStorage.loggedInUser&&(this.isLoggedIn=!0,this.loggedInSubject.next(this.isLoggedIn)),U.mpsServer.includes("/mps")&&(this.url=U.mpsServer+"/login/api/v1/authorize")}return e.prototype.getLoggedUserToken=function(){var e=localStorage.getItem("loggedInUser");return JSON.parse(e).token},e}();J.ɵfac=function(e){return new(e||J)(t.ɵɵinject(a.HttpClient))},J.ɵprov=t.ɵɵdefineInjectable({token:J,factory:J.ɵfac,providedIn:"platform"}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(J,[{type:t.Injectable,args:[{providedIn:"platform"}]}],(function(){return[{type:a.HttpClient}]}),null);var Q=["canvas"];function Y(e,o){if(1&e&&(t.ɵɵelementStart(0,"mat-option",4),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var a=o.$implicit;t.ɵɵproperty("value",a.value),t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",a.viewValue," ")}}var W=function(){function e(e,o,a,r,n){var i=this;this.snackBar=e,this.dialog=o,this.authService=a,this.devicesService=r,this.params=n,this.width=400,this.height=400,this.deviceState=0,this.deviceStatus=new t.EventEmitter,this.powerState=0,this.btnText="Disconnect",this.isPoweredOn=!1,this.isLoading=!1,this.deviceId="",this.selected=1,this.server=U.mpsServer.replace("http","ws")+"/relay",this.previousAction="kvm",this.selectedAction="",this.mouseMove=null,this.encodings=[{value:1,viewValue:"RLE 8"},{value:2,viewValue:"RLE 16"}],this.onConnectionStateChange=function(e,t){i.deviceState=t,i.deviceStatus.emit(t)},this.reset=function(){i.redirector=null,i.module=null,i.dataProcessor=null,i.height=400,i.width=400,i.instantiate()},this.stopKvm=function(){i.redirector.stop(),i.keyboardHelper.UnGrabKeyInput(),i.reset()},this.deviceId=this.params.deviceId,U.mpsServer.includes("/mps")&&(this.server=U.mpsServer.replace("http","ws")+"/ws/relay")}return e.prototype.ngOnInit=function(){var e=this;this.logger=new r.ConsoleLogger(1),this.stopSocketSubscription=this.devicesService.stopwebSocket.subscribe((function(){e.stopKvm()})),this.startSocketSubscription=this.devicesService.connectKVMSocket.subscribe((function(){e.setAmtFeatures()})),this.timeInterval=n.interval(15e3).pipe(o.mergeMap((function(){return e.devicesService.getPowerState(e.deviceId)}))).subscribe()},e.prototype.ngAfterViewInit=function(){this.setAmtFeatures()},e.prototype.instantiate=function(){var e,t,a=this;this.context=null===(e=this.canvas)||void 0===e?void 0:e.nativeElement.getContext("2d"),this.redirector=new r.AMTKvmDataRedirector(this.logger,r.Protocol.KVM,new FileReader,this.deviceId,16994,"","",0,0,this.authService.getLoggedUserToken(),this.server),this.module=new r.AMTDesktop(this.logger,this.context),this.dataProcessor=new r.DataProcessor(this.logger,this.redirector,this.module),this.mouseHelper=new r.MouseHelper(this.module,this.redirector,200),this.keyboardHelper=new r.KeyBoardHelper(this.module,this.redirector),this.redirector.onProcessData=this.module.processData.bind(this.module),this.redirector.onStart=this.module.start.bind(this.module),this.redirector.onNewState=this.module.onStateChange.bind(this.module),this.redirector.onSendKvmData=this.module.onSendKvmData.bind(this.module),this.redirector.onStateChanged=this.onConnectionStateChange.bind(this),this.redirector.onError=this.onRedirectorError.bind(this),this.module.onSend=this.redirector.send.bind(this.redirector),this.module.onProcessData=this.dataProcessor.processData.bind(this.dataProcessor),this.module.bpp=this.selected,this.mouseMove=n.fromEvent(null===(t=this.canvas)||void 0===t?void 0:t.nativeElement,"mousemove"),this.mouseMove.pipe(o.throttleTime(200)).subscribe((function(e){null!=a.mouseHelper&&a.mouseHelper.mousemove(e)}))},e.prototype.onRedirectorError=function(){this.reset()},e.prototype.init=function(){var e=this;this.devicesService.getPowerState(this.deviceId).pipe(o.catchError((function(){return e.snackBar.open("Error retrieving power status",void 0,z),n.of()})),o.finalize((function(){}))).subscribe((function(t){(e.powerState=t,e.isPoweredOn=e.checkPowerStatus(),e.isPoweredOn)?(e.instantiate(),setTimeout((function(){e.isLoading=!1,e.autoConnect()}),0)):(e.isLoading=!1,e.dialog.open(G).afterClosed().subscribe((function(t){t&&(e.isLoading=!0,e.devicesService.sendPowerAction(e.deviceId,2).pipe().subscribe((function(t){e.instantiate(),setTimeout((function(){e.isLoading=!1,e.autoConnect()}),4e3)})))})))}))},e.prototype.setAmtFeatures=function(){var e=this;this.isLoading=!0,this.devicesService.setAmtFeatures(this.deviceId).pipe(o.catchError((function(){return e.snackBar.open("Error enabling kvm",void 0,z),e.init(),n.of()})),o.finalize((function(){}))).subscribe((function(){return e.init()}))},e.prototype.autoConnect=function(){null!=this.redirector&&(this.redirector.start(WebSocket),this.keyboardHelper.GrabKeyInput())},e.prototype.onEncodingChange=function(){var e=this;this.stopKvm(),n.timer(1e3).subscribe((function(){e.autoConnect()}))},e.prototype.checkPowerStatus=function(){return 2===this.powerState.powerstate},e.prototype.ngDoCheck=function(){this.selectedAction!==this.previousAction&&(this.previousAction=this.selectedAction)},e.prototype.onMouseup=function(e){null!=this.mouseHelper&&this.mouseHelper.mouseup(e)},e.prototype.onMousedown=function(e){null!=this.mouseHelper&&this.mouseHelper.mousedown(e)},e.prototype.ngOnDestroy=function(){this.timeInterval&&this.timeInterval.unsubscribe(),this.stopKvm(),this.startSocketSubscription&&this.startSocketSubscription.unsubscribe(),this.stopSocketSubscription&&this.stopSocketSubscription.unsubscribe()},e}();W.ɵfac=function(e){return new(e||W)(t.ɵɵdirectiveInject(u.MatSnackBar),t.ɵɵdirectiveInject(i.MatDialog),t.ɵɵdirectiveInject(J),t.ɵɵdirectiveInject(V),t.ɵɵdirectiveInject("userInput"))},W.ɵcmp=t.ɵɵdefineComponent({type:W,selectors:[["amt-kvm"]],viewQuery:function(e,o){if(1&e&&t.ɵɵviewQuery(Q,1),2&e){var a;t.ɵɵqueryRefresh(a=t.ɵɵloadQuery())&&(o.canvas=a.first)}},inputs:{width:"width",height:"height"},outputs:{deviceState:"deviceState",deviceStatus:"deviceStatus"},decls:8,vars:4,consts:[[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["oncontextmenu","return false",1,"canvas",3,"width","height","mouseup","mousedown"],["canvas",""],[3,"value"]],template:function(e,o){1&e&&(t.ɵɵelementStart(0,"mat-toolbar"),t.ɵɵelementStart(1,"mat-form-field"),t.ɵɵelementStart(2,"mat-label"),t.ɵɵtext(3,"Choose encoding type"),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"mat-select",0),t.ɵɵlistener("ngModelChange",(function(e){return o.selected=e}))("ngModelChange",(function(){return o.onEncodingChange()})),t.ɵɵtemplate(5,Y,2,2,"mat-option",1),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"canvas",2,3),t.ɵɵlistener("mouseup",(function(e){return o.onMouseup(e)}))("mousedown",(function(e){return o.onMousedown(e)})),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(4),t.ɵɵproperty("ngModel",o.selected),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",o.encodings),t.ɵɵadvance(1),t.ɵɵproperty("width",o.width)("height",o.height))},directives:[s.MatToolbar,d.MatFormField,d.MatLabel,M.MatSelect,c.NgControlStatus,c.NgModel,p.NgForOf,m.MatOption],encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(W,[{type:t.Component,args:[{selector:"amt-kvm",templateUrl:"./kvm.component.html",styles:[]}]}],(function(){return[{type:u.MatSnackBar},{type:i.MatDialog},{type:J},{type:V},{type:void 0,decorators:[{type:t.Inject,args:["userInput"]}]}]}),{canvas:[{type:t.ViewChild,args:["canvas",{static:!1}]}],width:[{type:t.Input}],height:[{type:t.Input}],deviceState:[{type:t.Output}],deviceStatus:[{type:t.Output}]});var $=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();$.ɵfac=function(e){return new(e||$)},$.ɵcmp=t.ɵɵdefineComponent({type:$,selectors:[["amt-device-toolbar"]],decls:6,vars:0,template:function(e,o){1&e&&(t.ɵɵelementStart(0,"div"),t.ɵɵtext(1,"Device Control"),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"div"),t.ɵɵtext(3,"List"),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"button"),t.ɵɵtext(5,"tv"),t.ɵɵelementEnd())},styles:[""]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata($,[{type:t.Component,args:[{selector:"amt-device-toolbar",templateUrl:"./device-toolbar.component.html",styleUrls:["./device-toolbar.component.css"]}]}],(function(){return[]}),null);var X=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();X.ɵfac=function(e){return new(e||X)},X.ɵcmp=t.ɵɵdefineComponent({type:X,selectors:[["amt-are-you-sure"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(X,[{type:t.Component,args:[{selector:"amt-are-you-sure",templateUrl:"./are-you-sure.component.html",styleUrls:["./are-you-sure.component.scss"]}]}],(function(){return[]}),null);var Z=function(){function e(e){this.data=e}return e.prototype.ngOnInit=function(){},e}();Z.ɵfac=function(e){return new(e||Z)(t.ɵɵdirectiveInject(i.MAT_DIALOG_DATA))},Z.ɵcmp=t.ɵɵdefineComponent({type:Z,selectors:[["amt-dialog-content"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(Z,[{type:t.Component,args:[{selector:"amt-dialog-content",templateUrl:"./dialog-content.component.html",styleUrls:["./dialog-content.component.scss"]}]}],(function(){return[{type:void 0,decorators:[{type:t.Inject,args:[i.MAT_DIALOG_DATA]}]}]}),null);var ee=function(){};ee.ɵfac=function(e){return new(e||ee)},ee.ɵmod=t.ɵɵdefineNgModule({type:ee}),ee.ɵinj=t.ɵɵdefineInjector({providers:[{provide:u.MAT_SNACK_BAR_DEFAULT_OPTIONS,useValue:{duration:3e4,panelClass:["success","mat-elevation-z12"]}}],imports:[[h.FlexLayoutModule,c.ReactiveFormsModule,c.FormsModule,m.MatNativeDateModule,C.MatTableModule,H.MatTreeModule,N.MatMenuModule,_.CdkTableModule,K.MatButtonToggleModule,L.MatRadioModule,I.MatSortModule,D.MatCheckboxModule,x.MatTooltipModule,u.MatSnackBarModule,S.MatExpansionModule,f.MatGridListModule,y.MatChipsModule,M.MatSelectModule,T.MatListModule,w.MatCardModule,E.MatAutocompleteModule,b.MatStepperModule,i.MatDialogModule,R.MatSidenavModule,F.MatInputModule,A.MatSlideToggleModule,B.MatDatepickerModule,P.MatProgressBarModule,q.MatProgressSpinnerModule,s.MatToolbarModule,j.MatIconModule,O.MatTabsModule,d.MatFormFieldModule,l.MatButtonModule,k.MatPaginatorModule],h.FlexLayoutModule,c.ReactiveFormsModule,c.FormsModule,E.MatAutocompleteModule,B.MatDatepickerModule,C.MatTableModule,H.MatTreeModule,j.MatIconModule,I.MatSortModule,K.MatButtonToggleModule,x.MatTooltipModule,f.MatGridListModule,L.MatRadioModule,D.MatCheckboxModule,S.MatExpansionModule,N.MatMenuModule,i.MatDialogModule,u.MatSnackBarModule,T.MatListModule,b.MatStepperModule,y.MatChipsModule,w.MatCardModule,M.MatSelectModule,F.MatInputModule,s.MatToolbarModule,O.MatTabsModule,d.MatFormFieldModule,l.MatButtonModule,P.MatProgressBarModule,q.MatProgressSpinnerModule,A.MatSlideToggleModule,R.MatSidenavModule,k.MatPaginatorModule,_.CdkTableModule,m.MatNativeDateModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(ee,{declarations:[X,G,Z],imports:[h.FlexLayoutModule,c.ReactiveFormsModule,c.FormsModule,m.MatNativeDateModule,C.MatTableModule,H.MatTreeModule,N.MatMenuModule,_.CdkTableModule,K.MatButtonToggleModule,L.MatRadioModule,I.MatSortModule,D.MatCheckboxModule,x.MatTooltipModule,u.MatSnackBarModule,S.MatExpansionModule,f.MatGridListModule,y.MatChipsModule,M.MatSelectModule,T.MatListModule,w.MatCardModule,E.MatAutocompleteModule,b.MatStepperModule,i.MatDialogModule,R.MatSidenavModule,F.MatInputModule,A.MatSlideToggleModule,B.MatDatepickerModule,P.MatProgressBarModule,q.MatProgressSpinnerModule,s.MatToolbarModule,j.MatIconModule,O.MatTabsModule,d.MatFormFieldModule,l.MatButtonModule,k.MatPaginatorModule],exports:[h.FlexLayoutModule,c.ReactiveFormsModule,c.FormsModule,E.MatAutocompleteModule,B.MatDatepickerModule,C.MatTableModule,H.MatTreeModule,j.MatIconModule,I.MatSortModule,K.MatButtonToggleModule,x.MatTooltipModule,f.MatGridListModule,L.MatRadioModule,D.MatCheckboxModule,S.MatExpansionModule,N.MatMenuModule,i.MatDialogModule,u.MatSnackBarModule,T.MatListModule,b.MatStepperModule,y.MatChipsModule,w.MatCardModule,M.MatSelectModule,F.MatInputModule,s.MatToolbarModule,O.MatTabsModule,d.MatFormFieldModule,l.MatButtonModule,P.MatProgressBarModule,q.MatProgressSpinnerModule,A.MatSlideToggleModule,R.MatSidenavModule,k.MatPaginatorModule,_.CdkTableModule,m.MatNativeDateModule]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(ee,[{type:t.NgModule,args:[{imports:[h.FlexLayoutModule,c.ReactiveFormsModule,c.FormsModule,m.MatNativeDateModule,C.MatTableModule,H.MatTreeModule,N.MatMenuModule,_.CdkTableModule,K.MatButtonToggleModule,L.MatRadioModule,I.MatSortModule,D.MatCheckboxModule,x.MatTooltipModule,u.MatSnackBarModule,S.MatExpansionModule,f.MatGridListModule,y.MatChipsModule,M.MatSelectModule,T.MatListModule,w.MatCardModule,E.MatAutocompleteModule,b.MatStepperModule,i.MatDialogModule,R.MatSidenavModule,F.MatInputModule,A.MatSlideToggleModule,B.MatDatepickerModule,P.MatProgressBarModule,q.MatProgressSpinnerModule,s.MatToolbarModule,j.MatIconModule,O.MatTabsModule,d.MatFormFieldModule,l.MatButtonModule,k.MatPaginatorModule],exports:[h.FlexLayoutModule,c.ReactiveFormsModule,c.FormsModule,E.MatAutocompleteModule,B.MatDatepickerModule,C.MatTableModule,H.MatTreeModule,j.MatIconModule,I.MatSortModule,K.MatButtonToggleModule,x.MatTooltipModule,f.MatGridListModule,L.MatRadioModule,D.MatCheckboxModule,S.MatExpansionModule,N.MatMenuModule,i.MatDialogModule,u.MatSnackBarModule,T.MatListModule,b.MatStepperModule,y.MatChipsModule,w.MatCardModule,M.MatSelectModule,F.MatInputModule,s.MatToolbarModule,O.MatTabsModule,d.MatFormFieldModule,l.MatButtonModule,P.MatProgressBarModule,q.MatProgressSpinnerModule,A.MatSlideToggleModule,R.MatSidenavModule,k.MatPaginatorModule,_.CdkTableModule,m.MatNativeDateModule],providers:[{provide:u.MAT_SNACK_BAR_DEFAULT_OPTIONS,useValue:{duration:3e4,panelClass:["success","mat-elevation-z12"]}}],declarations:[X,G,Z]}]}],null,null);var te=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e}();te.ɵfac=function(e){return new(e||te)},te.ɵmod=t.ɵɵdefineNgModule({type:te}),te.ɵinj=t.ɵɵdefineInjector({imports:[[p.CommonModule,ee],ee]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(te,{imports:[p.CommonModule,ee],exports:[ee]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(te,[{type:t.NgModule,args:[{declarations:[],exports:[ee],imports:[p.CommonModule,ee]}]}],null,null);var oe=function(){function e(e,t){this.params=e,this.dialog=t}return e.prototype.intercept=function(e,t){var r=this;return e=e.clone({setHeaders:{Authorization:"Bearer "+this.params.authToken}}),t.handle(e).pipe(o.tap((function(e){return e instanceof a.HttpResponse?e:null}),(function(e){return e instanceof a.HttpErrorResponse&&401===e.status&&r.dialog.open(Z,{data:{name:"session time out. Please login again"}}),n.throwError(e)})))},e}();oe.ɵfac=function(e){return new(e||oe)(t.ɵɵinject("userInput"),t.ɵɵinject(i.MatDialog))},oe.ɵprov=t.ɵɵdefineInjectable({token:oe,factory:oe.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(oe,[{type:t.Injectable}],(function(){return[{type:void 0,decorators:[{type:t.Inject,args:["userInput"]}]},{type:i.MatDialog}]}),null);var ae=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[V,{provide:"userInput",useValue:t}]}},e}();ae.ɵfac=function(e){return new(e||ae)},ae.ɵmod=t.ɵɵdefineNgModule({type:ae}),ae.ɵinj=t.ɵɵdefineInjector({providers:[J,{provide:a.HTTP_INTERCEPTORS,useClass:oe,multi:!0}],imports:[[a.HttpClientModule,h.FlexLayoutModule,g.BrowserModule,te.forRoot(),v.BrowserAnimationsModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(ae,{declarations:[W,$],imports:[a.HttpClientModule,h.FlexLayoutModule,g.BrowserModule,te,v.BrowserAnimationsModule],exports:[W]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(ae,[{type:t.NgModule,args:[{declarations:[W,$],imports:[a.HttpClientModule,h.FlexLayoutModule,g.BrowserModule,te.forRoot(),v.BrowserAnimationsModule],exports:[W],schemas:[t.CUSTOM_ELEMENTS_SCHEMA],providers:[J,{provide:a.HTTP_INTERCEPTORS,useClass:oe,multi:!0}]}]}],null,null),e.KvmComponent=W,e.KvmModule=ae,e.KvmService=V,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kvm.umd.min.js.map