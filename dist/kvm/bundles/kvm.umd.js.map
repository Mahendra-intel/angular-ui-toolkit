{"version":3,"file":"kvm.umd.js","sources":["../../../projects/kvm/src/lib/kvm.service.ts","../../../projects/kvm/src/environments/environment.ts","../../../projects/kvm/src/lib/kvm.component.ts","../../../projects/kvm/src/lib/kvm.component.html","../../../projects/kvm/src/lib/app/device-toolbar/device-toolbar.component.ts","../../../projects/kvm/src/lib/app/device-toolbar/device-toolbar.component.html","../../../projects/kvm/src/lib/kvm.module.ts","../../../projects/kvm/src/public-api.ts","../../../projects/kvm/src/kvm.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class KvmService {\n\n  constructor() { }\n}\n","export const environment = {\r\n    production: false,\r\n    mpsServer: 'https://localhost/mps',\r\n    rpsServer: 'https://localhost/rps' \r\n}","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport {\n  ConsoleLogger,\n  IDataProcessor,\n  ILogger,\n  KeyBoardHelper,\n  MouseHelper,\n} from '@open-amt-cloud-toolkit/ui-toolkit/core';\nimport { environment } from '../environments/environment';\nimport { Subscription } from 'rxjs';\n// import { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'amt-kvm',\n  templateUrl: './kvm.component.html',\n  styles: [],\n})\nexport class KvmComponent implements OnInit {\n  @ViewChild('canvas', { static: false }) canvas: ElementRef | undefined;\n  public context!: CanvasRenderingContext2D;\n\n  // //setting a width and height for the canvas\n\n  @Input() public width = 400;\n  @Input() public height = 400;\n  @Output() deviceState: number = 0;\n  @Output() deviceStatus: EventEmitter<number> = new EventEmitter<number>();\n  stopSocketSubscription!: Subscription;\n  startSocketSubscription!: Subscription;\n  module: any;\n  redirector: any;\n  dataProcessor!: IDataProcessor | null;\n  mouseHelper!: MouseHelper;\n  keyboardHelper!: KeyBoardHelper;\n  logger!: ILogger;\n  powerState: any = 0;\n  btnText: string = 'Disconnect';\n  isPoweredOn: boolean = false;\n  isLoading: boolean = false;\n  deviceId: string = '';\n  selected: number = 1;\n  timeInterval!: any;\n  server: string = `${environment.mpsServer.replace('http', 'ws')}/relay`;\n  previousAction = 'kvm';\n  selectedAction = '';\n  mouseMove: any = null;\n\n  encodings = [\n    { value: 1, viewValue: 'RLE 8' },\n    { value: 2, viewValue: 'RLE 16' },\n  ];\n\n  constructor() {\n    console.log('comming inside with new bundle files');\n    if (environment.mpsServer.includes('/mps')) {\n      //handles kong route\n      this.server = `${environment.mpsServer.replace('http', 'ws')}/ws/relay`;\n    }\n  }\n  // ngOnDestroy(): void {\n  //   throw new Error('Method not implemented.');\n  // }\n  // ngAfterViewInit(): void {\n  //   throw new Error('Method not implemented.');\n  // }\n\n  ngOnInit(): void {\n    this.logger = new ConsoleLogger(1)\n  }\n\n  ngDoCheck(): void {\n    if (this.selectedAction !== this.previousAction) {\n      this.previousAction = this.selectedAction;\n    }\n  }\n\n  onMouseup(event: MouseEvent): void {\n    if (this.mouseHelper != null) {\n      this.mouseHelper.mouseup(event)\n    }\n  }\n\n  onMousedown(event: MouseEvent): void {\n    if (this.mouseHelper != null) {\n      this.mouseHelper.mousedown(event)\n    }\n  }\n}\n","<!-- <amt-device-toolbar></amt-device-toolbar> -->\r\n<div>\r\n    <button style=\"display: block;\"> connect </button>\r\n    <canvas class=\"canvas\" #canvas [width]=\"width\" [height]=\"height\" oncontextmenu=\"return false\" (mouseup)=\"onMouseup($event)\" (mousedown)=\"onMousedown($event)\"></canvas>\r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'amt-device-toolbar',\n  templateUrl: './device-toolbar.component.html',\n  styleUrls: ['./device-toolbar.component.css']\n})\nexport class DeviceToolbarComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div>Device Control</div>\n<div>List</div>\n<button>tv</button>","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { KvmComponent } from './kvm.component';\nimport { DeviceToolbarComponent } from './app/device-toolbar/device-toolbar.component';\n\n@NgModule({\n  declarations: [KvmComponent, DeviceToolbarComponent],\n  imports: [],\n  exports: [KvmComponent],\n  schemas:[CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class KvmModule {}\n","/*\n * Public API Surface of kvm\n */\n\nexport * from './lib/kvm.service';\nexport * from './lib/kvm.component';\nexport * from './lib/kvm.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["Injectable","EventEmitter","ConsoleLogger","i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵlistener","i0.ɵɵadvance","i0.ɵɵproperty","Component","ViewChild","Input","Output","NgModule","CUSTOM_ELEMENTS_SCHEMA"],"mappings":"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"}